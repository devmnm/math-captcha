{"version":3,"file":"captcha.min.js","sources":["../src/config.js","../src/generate-number.js","../src/operations.js","../src/is-form-valid.js","../src/index.js"],"sourcesContent":["\r\nconst config = {\r\n    min: 0,\r\n    max:100,\r\n    operationElem: document.getElementById('captcha-operation'),\r\n    resultElem: document.getElementById('captcha-result')\r\n}\r\n\r\nexport default config","\r\nexport default function generateNumber(min, max){\r\n    //\r\n    /// Sanity checks\r\n    if(typeof min === 'undefined' && typeof max === 'undefined'){\r\n        return Math.random()\r\n    } // else...\r\n    if(typeof min !== 'number' && typeof max !== 'number'){\r\n        return Math.random()\r\n    } // else...\r\n    if(typeof max !== 'number'){\r\n        max = 0\r\n    }\r\n\r\n    // Computer and return random number\r\n    const num = Math.random() * (max - min) + min // Reference: \r\n    return Math.floor(num)\r\n}","\r\nconst operations = {\r\n    '+': function(op1, op2) { return op1 + op2 },\r\n    '-': function(op1, op2) { return op1 - op2 },\r\n    '*': function(op1, op2) { return op1 * op2 },\r\n}\r\n\r\nexport default operations","\r\nexport default function isFormInvalid(captchaVal){\r\n    let why = ''\r\n    const theForm = this\r\n\r\n    if(theForm.name) why = isEmpty(theForm.elements.name.value)\r\n    if(theForm.tel) why = isEmpty(theForm.elements.tel.value)\r\n    if(theForm.url) why = isEmpty(theForm.elements.url.value)\r\n    if(theForm.captcha) why = isCaptchaInvalid(theForm.elements.captcha.value, captchaVal)\r\n    //else why = true\r\n\r\n    console.log(!why)\r\n    return !why // .indexOf('false') >= 0\r\n}\r\n\r\nfunction isEmpty(val){\r\n    if(!val || val === '-1'){\r\n        return true\r\n    }\r\n    else{\r\n        return false\r\n    }\r\n}\r\n\r\nfunction isCaptchaInvalid(input, answer){\r\n    alert(input + ',' + answer)\r\n    return parseFloat(input) === parseFloat(answer)\r\n}","// import createNumberFields from './create-number-fields'\r\nimport config from './config'\r\nimport generateNumber from './generate-number'\r\nimport calculate from './operations'\r\nimport isFormInvalid from './is-form-valid'\r\n\r\nconst operand1 = generateNumber(config.min, config.max)\r\nconst operand2 = generateNumber(config.min, config.max)\r\nconst operator = '+'\r\n\r\nconfig.operationElem.innerHTML = operand1 + ' ' + operator + ' ' + operand2\r\nconst result = calculate[operator](operand1, operand2)\r\nconsole.log(result)\r\n\r\nconst theForm = document.getElementById('form')\r\ntheForm.addEventListener('submit', function(e){\r\n    // e.preventDefault()\r\n    if(isFormInvalid.call(theForm, result)){\r\n        e.preventDefault()\r\n        return false\r\n    }else{\r\n        return true\r\n    }\r\n\r\n})\r\n\r\n// const answerDropdownElem = createNumberFields(config.min, result)\r\n// config.resultElem.appendChild(answerDropdownElem)\r\n"],"names":["calculate"],"mappings":"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"}